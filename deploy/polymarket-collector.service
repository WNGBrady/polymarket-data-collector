[Unit]
Description=Polymarket Esports Data Collector
After=network.target

[Service]
Type=simple
User=polymarket
Group=polymarket
WorkingDirectory=/opt/polymarket-collector
ExecStart=/opt/polymarket-collector/venv/bin/python main.py --continuous
Restart=always
RestartSec=10

# Ensure logs appear immediately in journald
Environment=PYTHONUNBUFFERED=1

# Memory guard â€” reduced from 800M to leave room for the API service (~100MB)
MemoryMax=600M

# Logging via journald (view with: journalctl -u polymarket-collector -f)
StandardOutput=journal
StandardError=journal
SyslogIdentifier=polymarket-collector

[Install]
WantedBy=multi-user.target
